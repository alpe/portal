<template>
    <require from="./asset/asset"></require>
    <div class="card" collapsible-card="is-open:true">
        <div class="card-content">
            <div class="card-heading">
                <div class="card-title">
                    Asset Pair <span show.bind="loadedBase && loadedCounter">(${loadedCounter.code + '/' + loadedBase.code})</span>
                </div>
            </div>
            <div class="card-body">
                <alert config.bind="alertConfig"></alert>
                <form submit.trigger="load()">
                    <div class="row">
                        <div class="col s6">
                            <h6 class="primary-text center">
                                <strong>Selling Asset</strong>&nbsp;
                                <md-progress show.bind="baseAssetVm.loading > 0" md-type="circular"  md-pixel-size="12" md-color="blue"></md-progress>
                            </h6>
                            <asset view-model.ref="baseAssetVm" issuer.bind="assetPair.base.issuer" code.bind="assetPair.base.code"></asset>
                        </div>
                        <div class="col s6">
                            <h6 class="primary-text center">
                                <strong>Buying Asset</strong>&nbsp;
                                <md-progress show.bind="counterAssetVm.loading > 0" md-type="circular" md-pixel-size="12" md-color="blue"></md-progress>
                            </h6>
                            <asset view-model.ref="counterAssetVm" issuer.bind="assetPair.counter.issuer" code.bind="assetPair.counter.code"></asset>
                        </div>
                    </div>
                    <div class="row center">
                        <div class="form-field">
                            <button type="submit" class="btn accent">
                                <i class="fa fa-refresh"></i>&nbsp;Load
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</template>
