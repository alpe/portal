<template>
    <div class="sign-with-ledger">
        <alert-card type="info" title="Sign Your Transaction With Ledger">
            <div>
                Make sure your Ledger is Connected, the Stellar app open and that browser support is enabled.
                Once the ledger is connected, click the 'Sign' button and you will be prompted on your device.
            </div>
        </alert-card>
        <div show.bind="ledgerConnected === false">
            <alert-card title="No Ledger Connected" type="warning">
                A Ledger Nano S could not be found. Please ensure that you have:
                <ol>
                    <li>Installed the Stellar app from Ledger app store on to your ledger device.</li>
                    <li>Enabled browser support from your ledger device</li>
                    <li>Physically connected your ledger device.</li>
                </ol>
                Additionally, please note that as of now support for the Ledger Nano S is only available on the Chrome and Opera browsers.
            </alert-card>
            <div class="center-text">
                <button class="btn accent" click.trigger="connectLedger()">
                    <i class="fa fa-refresh"></i>&nbsp;Try Again
                </button>
            </div>
        </div>
        <div show.bind="ledgerConnected">
            <alert-card show.bind="errorMessage" title="Error with your Ledger" type="error">
                <div>${errorMessage}</div>
            </alert-card>
            <form novalidate focus-input submit.trigger="sign()">
                <div class="row">
                    <div class="cols center-align form-field">
                        <button md-waves type="button" class="btn gray" click.trigger="back()">
                            <i class="fa fa-arrow-left"></i>&nbsp;Back
                        </button>
                        <button md-waves type="submit" class="btn primary">
                            <i class="fa fa-lock"></i>&nbsp;Sign
                        </button>
                    </div>
                </div>
            </form>
        </div>
        <spinner-overlay min-height="150" spin.bind="loading > 0"></spinner-overlay>
    </div>
</template>
